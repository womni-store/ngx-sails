{"version":3,"file":"sails-response.js","sourceRoot":"../../sails-client","sources":["../../src/sails-client/sails-response.ts"],"names":[],"mappings":";;;;;;;;;;AAEA,IAAA;IAKE,kBAAY,QAA2B,EAAE,OAAsB;QAC7D,EAAE,CAAC,CAAC,OAAO,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC;gBACH,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;aACjC;YAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC;gBACX,MAAM,IAAI,KAAK,CAAC,wBAAsB,QAAQ,kCAA+B,CAAC,CAAC;aAChF;SACF;QACD,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,IAAI,EAAE,CAAC;QACtC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,UAAU,IAAI,GAAG,CAAC;KAC1C;mBAlBH;IAmBC,CAAA;AAjBD,oBAiBC;AAED,IAAA;IAAmC,iCAAQ;IAGzC,uBAAY,QAA2B,EAAE,OAAsB;QAA/D,YACE,kBAAM,QAAQ,EAAE,OAAO,CAAC,SAEzB;QADC,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC;;KACjC;wBA3BH;EAqBmC,QAAQ,EAO1C,CAAA;AAPD,yBAOC;AAED,IAAA;IAAgC,8BAAQ;IAGtC,oBAAY,QAA2B,EAAE,OAAsB;QAA/D,YACE,kBAAM,QAAQ,EAAE,OAAO,CAAC,SAEzB;QADC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC;;KAClC;qBApCH;EA8BgC,QAAQ,EAOvC,CAAA;AAPD,sBAOC","sourcesContent":["import { IRawSailsResponse, ISailsRequest } from './interfaces';\n\nexport class Response {\n  public headers: any;\n  public status: number;\n  public config: ISailsRequest;\n\n  constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    if (typeof response === 'string') {\n      try {\n        response = JSON.parse(response);\n      } catch (e) {\n        throw new Error(`Malformed response ${response}. Could not be parsed to JSON`);\n      }\n    }\n    this.config = request;\n    this.headers = response.headers || {};\n    this.status = response.statusCode || 200;\n  }\n}\n\nexport class SailsResponse extends Response {\n  public data: any;\n\n  constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    super(response, request);\n    this.data = response.body || {};\n  }\n}\n\nexport class SailsError extends Response {\n  public error: any;\n\n  constructor(response: IRawSailsResponse, request: ISailsRequest) {\n    super(response, request);\n    this.error = response.body || {};\n  }\n}\n"]}